package ${basePackageName}#if(${moduleName}).${moduleName}#end#if(${controllerConfig.packageSimpleName}).${controllerConfig.packageSimpleName}#end;


import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import org.springframework.validation.annotation.Validated;
import ${tableInfo.keyColumnInfo.javaType.getName()};
import ${basePackageName}#if(${moduleName}).${moduleName}#end.${serviceInterfaceConfig.packageSimpleName}.${tableInfo.capitalizeTableName}${serviceInterfaceConfig.filePost};
import ${basePackageName}#if(${moduleName}).${moduleName}#end.${paramDTOConfig.packageSimpleName}.${tableInfo.capitalizeTableName}${paramDTOConfig.filePost};
import ${basePackageName}#if(${moduleName}).${moduleName}#end.${resultDTOConfig.packageSimpleName}.${tableInfo.capitalizeTableName}${resultDTOConfig.filePost};
/**
 * $!{tableInfo.comment}前端控制器
 *
 * @author ${author}
 * @since ${generateTime}
 */
@RestController
@RequestMapping("#if(${moduleName})/${moduleName}#end/#if(${tableInfo.tableName})${tableInfo.tableName}#end" )
public class ${tableInfo.capitalizeTableName}${controllerConfig.filePost} {
#*TODO 如何处理调用的，需要先遍历一遍所有模板的getObjectValueMap方法，对参数进行初始化，然后再设置模板就能调用到其他的模板的参数了*#
    @Autowired
    private ${tableInfo.capitalizeTableName}${serviceInterfaceConfig.filePost} ${tableInfo.tableName}${serviceInterfaceConfig.filePost};

    /**
     * 列表
     */
    @GetMapping("/get${tableInfo.capitalizeTableName}List")
    public R get${tableInfo.capitalizeTableName}List(${tableInfo.capitalizeTableName}Param ${tableInfo.tableName}Param) {
        PageUtils page = ${tableInfo.tableName}${serviceInterfaceConfig.filePost}.get${tableInfo.capitalizeTableName}List(${tableInfo.tableName}Param);
        return R.ok().put("page", page);
    }

    /**
     * 信息
     */
    @GetMapping("/get${tableInfo.capitalizeTableName}InfoBy${tableInfo.keyColumnInfo.capitalizePropertyName}/{${tableInfo.keyColumnInfo.propertyName}}" )
    public R get${tableInfo.capitalizeTableName}InfoBy${tableInfo.keyColumnInfo.capitalizePropertyName}(@PathVariable("${tableInfo.keyColumnInfo.propertyName}") ${tableInfo.keyColumnInfo.javaType.getSimpleName()} ${tableInfo.keyColumnInfo.propertyName}) {
        ${tableInfo.capitalizeTableName}Result ${tableInfo.tableName}Result = ${tableInfo.tableName}${serviceInterfaceConfig.filePost}.get${tableInfo.capitalizeTableName}InfoBy${tableInfo.keyColumnInfo.capitalizePropertyName}(${tableInfo.keyColumnInfo.propertyName});
        return R.ok().put("${tableInfo.tableName}Result", ${tableInfo.tableName}Result);
    }

    /**
     * 保存
     */
    @PostMapping("/add${tableInfo.capitalizeTableName}" )
    public R add${tableInfo.capitalizeTableName}(@RequestBody #if(${jsr303Verify})@Validated #end${tableInfo.capitalizeTableName}Param ${tableInfo.tableName}Param) {
        ${tableInfo.tableName}${serviceInterfaceConfig.filePost}.add${tableInfo.capitalizeTableName}(${tableInfo.tableName}Param);
        return R.ok();
    }

    /**
     * 修改
     */
    @PostMapping("/update${tableInfo.capitalizeTableName}" )
    public R update${tableInfo.capitalizeTableName}(@RequestBody #if(${jsr303Verify})@Validated #end${tableInfo.capitalizeTableName}Param ${tableInfo.tableName}Param) {
        ${tableInfo.tableName}${serviceInterfaceConfig.filePost}.update${tableInfo.capitalizeTableName}(${tableInfo.tableName}Param);
        return R.ok();
    }

    /**
     * 删除
     */
    @PostMapping("/delete${tableInfo.capitalizeTableName}By${tableInfo.keyColumnInfo.capitalizePropertyName}/{${tableInfo.keyColumnInfo.propertyName}}")
    public R delete${tableInfo.capitalizeTableName}By${tableInfo.keyColumnInfo.capitalizePropertyName}(@PathVariable("${tableInfo.keyColumnInfo.propertyName}") ${tableInfo.keyColumnInfo.javaType.getSimpleName()} ${tableInfo.keyColumnInfo.propertyName}) {
        ${tableInfo.tableName}${serviceInterfaceConfig.filePost}.delete${tableInfo.capitalizeTableName}By${tableInfo.keyColumnInfo.capitalizePropertyName}(${tableInfo.keyColumnInfo.propertyName});
        return R.ok();
    }

}